# Code Voice Assistant

Code Voice Assistant is a Node.js and VS Code extension project that lets you generate code snippets using your voice. It records your speech, transcribes it using OpenAI Whisper, sends the prompt to OpenAI (or Copilot), and inserts the generated code into your active VS Code editor.

---

## Installation

1. **Clone the repository:**

   ```sh
   git clone <your-repo-url>
   cd Speech to Code
   ```

2. **Install dependencies:**

   ```sh
   npm install
   ```

3. **Set up API keys:**

   - Add your OpenAI API key and Whisper API key to your environment:
     ```sh
     export OPENAI_API_KEY=your_openai_key
     export WHISPER_API_KEY=your_whisper_key
     ```

4. **(Linux only) Make sure `arecord` is installed:**

   ```sh
   sudo apt-get install alsa-utils
   ```

5. **Setup**

   1. Copy `.env.example` to `.env` and fill in your API keys.
   2. Do not commit your `.env` file or `input.wav`—these are ignored by `.gitignore`.

---

## Usage

### As a Node.js Script

Run the assistant from the terminal:

```sh
npm run voice
```

- Speak your coding request when prompted.
- Example:  
  **"create a REST API for login"**
- The recognized prompt and generated code will be shown in the console.
- You’ll be asked to confirm before the code is inserted into VS Code.

### As a VS Code Extension

1. Open the project folder in VS Code.
2. Press `F5` to launch the extension in a new Extension Development Host window.
3. Open a file and place your cursor where you want the code.
4. Open the Command Palette (`Ctrl+Shift+P`) and run:
   ```
   Code Voice Assistant: Generate Code from Voice
   ```
5. Speak your coding request (e.g., "create a REST API for login").
6. Confirm insertion when prompted.

---

## Example Commands

- **"create a REST API for login"**
- **"generate a Python class for user authentication"**
- **"write a function to sort an array in JavaScript"**

---

## Troubleshooting

- Make sure your microphone is working and `arecord` is installed.
- Ensure your API keys are set in the environment.
- If you see permission errors, try running VS Code or your terminal as administrator.

---

# Code Voice Assistant Demo

Below are sample voice commands and the code snippets generated by the Code Voice Assistant.

---

### 1. Voice Command

**"Create a REST API for login in Express.js"**

**Generated Code:**

```javascript
const express = require("express");
const app = express();
app.use(express.json());

app.post("/login", (req, res) => {
  const { username, password } = req.body;
  // Authenticate user logic here
  if (username === "admin" && password === "secret") {
    res.json({ success: true, token: "abc123" });
  } else {
    res.status(401).json({ success: false, message: "Invalid credentials" });
  }
});

app.listen(3000, () => console.log("Server running on port 3000"));
```

---

### 2. Voice Command

**"Generate a Python class for user authentication"**

**Generated Code:**

```python
class UserAuth:
    def __init__(self, username, password):
        self.username = username
        self.password = password

    def authenticate(self, input_username, input_password):
        return self.username == input_username and self.password == input_password
```

---

### 3. Voice Command

**"Write a function to sort an array in JavaScript"**

**Generated Code:**

```javascript
function sortArray(arr) {
  return arr.sort((a, b) => a - b);
}
```

---

These examples show how Code Voice Assistant can quickly turn spoken coding requests into ready-to-use code snippets, streamlining the development process.
